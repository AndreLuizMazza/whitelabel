/* 1) Tokens base do tema (valores padrão) */
@import './styles/theme.css';

/* 2) Tailwind */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 3) Customizações do app (ficam DEPOIS do Tailwind para vencer no cascade) */

/* utilitários próprios */
.container-max { @apply max-w-6xl mx-auto px-4; }
.section { @apply py-10 md:py-14; }

/* ---------------- Botões: 100% dirigidos por CSS vars do tenant ---------------- */
/* Botão base neutro (usado em alguns componentes) */
.btn,
button.btn,
a.btn {
  @apply inline-flex items-center gap-2 rounded-full font-semibold transition;
  padding: 0.625rem 1rem; /* ~px-4 py-2.5 */
  background: var(--surface);
  color: var(--text);
  border: 1px solid var(--c-border);
}
.btn:hover,
button.btn:hover,
a.btn:hover {
  background: color-mix(in srgb, var(--primary) 8%, var(--surface));
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 22%, transparent);
}

/* Primário (cta) */
.btn-primary,
button.btn-primary,
a.btn-primary {
  @apply inline-flex items-center gap-2 px-5 py-2.5 rounded-full font-semibold transition;
  background: var(--primary);
  color: var(--on-primary);
  border: 1px solid color-mix(in srgb, var(--primary) 35%, transparent);
}
.btn-primary:hover,
button.btn-primary:hover,
a.btn-primary:hover {
  /* mistura com --primary-dark se existir; senão, com a própria --primary */
  background: color-mix(in srgb, var(--primary) 85%, var(--primary-dark, var(--primary)));
}

/* Outline “neutro” – usa tokens do tenant */
.btn-outline,
button.btn-outline,
a.btn-outline {
  @apply inline-flex items-center gap-2 px-5 py-2.5 rounded-full font-semibold transition;
  background: var(--surface);
  color: var(--text);
  border: 1px solid var(--c-border);
}
.btn-outline:hover,
button.btn-outline:hover,
a.btn-outline:hover {
  background: color-mix(in srgb, var(--primary) 8%, var(--surface));
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 22%, transparent);
}

/* Secundário (mesmo visual do outline, usado em várias telas) */
.btn-secondary,
button.btn-secondary,
a.btn-secondary {
  @apply inline-flex items-center gap-2 px-5 py-2.5 rounded-full font-semibold transition;
  background: var(--surface);
  color: var(--text);
  border: 1px solid var(--c-border);
}
.btn-secondary:hover,
button.btn-secondary:hover,
a.btn-secondary:hover {
  background: color-mix(in srgb, var(--primary) 8%, var(--surface));
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 22%, transparent);
}

/* Botão “leve” (usado em ações de boleto/PIX etc.) */
.btn-light,
button.btn-light,
a.btn-light {
  @apply inline-flex items-center gap-2 rounded-full text-sm font-medium transition;
  padding: 0.5rem 0.875rem; /* um pouco menor */
  background: var(--surface);
  color: var(--text);
  border: 1px solid var(--c-border);
}
.btn-light:hover,
button.btn-light:hover,
a.btn-light:hover {
  background: color-mix(in srgb, var(--primary) 8%, var(--surface));
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 22%, transparent);
}

/* ---------------- Card base ---------------- */
.card {
  background-color: var(--surface);
  border: 1px solid var(--c-border);
  border-radius: 1rem;
  transition: background 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
}

/* ---------------- Inputs ---------------- */
.input {
  @apply w-full rounded-full border px-4 py-2 text-sm focus:outline-none focus:ring-0;
  border-color: var(--c-border);
  background: var(--surface);
  color: var(--text);
}
.input::placeholder {
  color: var(--text-muted);
}
.input:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 30%, transparent);
}

/* ---------------- Label ---------------- */
.label {
  @apply block mb-1 text-sm font-medium;
  color: var(--text);
}

/* === Print polish para .printable-card === */
@media print {
  :root {
    /* garante contraste adequado em impressoras comuns */
    --surface: #ffffff !important;
    --text: #101010 !important;
    --text-muted: #5b5b5b !important;
    --c-border: rgba(0,0,0,0.2) !important;
  }
  .printable-card {
    box-shadow: none !important;
    border: 1px solid var(--c-border) !important;
    break-inside: avoid;
    page-break-inside: avoid;
  }
}

/* ============================================================
   MODO IDOSO
   Ativado quando <html data-elder-mode="on">
   ============================================================ */

html[data-elder-mode="on"] {
  /* Leve aumento geral da escala de interface */
  font-size: 112.5%; /* se base era 16px ~> 18px */
}

/* Corpo do app */
html[data-elder-mode="on"] body {
  line-height: 1.6;
}

/* Textos principais */
html[data-elder-mode="on"] .section,
html[data-elder-mode="on"] .container-max {
  font-size: 1rem; /* acompanha o aumento do html */
}

/* Títulos levemente maiores */
html[data-elder-mode="on"] h1,
html[data-elder-mode="on"] .text-3xl,
html[data-elder-mode="on"] .text-4xl,
html[data-elder-mode="on"] .text-5xl {
  font-size: 1.1em;
}

html[data-elder-mode="on"] h2,
html[data-elder-mode="on"] .text-2xl {
  font-size: 1.08em;
}

/* Textos pequenos (labels, chips, legendas) um pouco maiores */
html[data-elder-mode="on"] .text-xs,
html[data-elder-mode="on"] .text-[11px],
html[data-elder-mode="on"] .text-[10px] {
  font-size: 0.9rem; /* deixa legível sem parecer "zoomado" demais */
}

/* Botões principais e CTAs */
html[data-elder-mode="on"] button,
html[data-elder-mode="on"] .btn,
html[data-elder-mode="on"] .cta,
html[data-elder-mode="on"] .cta-button,
html[data-elder-mode="on"] .card button,
html[data-elder-mode="on"] a[role="button"],
html[data-elder-mode="on"] .primary-button {
  min-height: 3rem;
  padding-inline: 1.25rem;
  font-size: 0.95rem;
}

/* Botões tipo "pill" da navbar / chips */
html[data-elder-mode="on"] .rounded-full {
  padding-top: 0.55rem;
  padding-bottom: 0.55rem;
}

/* Itens de navegação (desktop e mobile) – aumenta tap target */
html[data-elder-mode="on"] nav a,
html[data-elder-mode="on"] nav button,
html[data-elder-mode="on"] [role="menuitem"] {
  min-height: 2.75rem;
}

/* Drawer mobile: itens um pouco mais espaçosos */
html[data-elder-mode="on"] #mobile-menu .px-5.py-3,
html[data-elder-mode="on"] #mobile-menu .px-4.py-3 {
  padding-top: 0.9rem;
  padding-bottom: 0.9rem;
}

/* Cards e blocos de conteúdo – mais espaçamento interno */
html[data-elder-mode="on"] .card,
html[data-elder-mode="on"] .card-lg,
html[data-elder-mode="on"] .card-md {
  padding: 1.25rem;
}

/* FAQ / parágrafos longos: melhora legibilidade */
html[data-elder-mode="on"] p,
html[data-elder-mode="on"] li {
  letter-spacing: 0.01em;
}

/* Aumenta contraste das legendas / textos muted */
html[data-elder-mode="on"] {
  --text-muted: color-mix(in srgb, var(--text) 75%, #000000 25%);
}

/* Inputs e selects um pouco maiores para facilitar o toque */
html[data-elder-mode="on"] input,
html[data-elder-mode="on"] select,
html[data-elder-mode="on"] textarea {
  min-height: 2.8rem;
  font-size: 0.95rem;
}

/* Avatar no header/drawer já foi aumentado em JSX,
   aqui apenas garantimos que não fique minúsculo em outros contextos */
html[data-elder-mode="on"] img.rounded-full {
  /* opcional: leve borda para destacar */
  border-width: 1px;
  border-style: solid;
  border-color: color-mix(in srgb, var(--primary) 40%, transparent);
}
